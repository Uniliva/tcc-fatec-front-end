<div ng-include="'/view/components/cabecalho.html'">
</div>

<div class="container">
    <div class="row">
        <div style="margin-top:20px">
            <div class="alert alert-default col-md-12 col-xs-12" style="margin-right:20px;">
                <div class="row">
                    <div class="col-md-10">
                        <span class="titulo"><strong>Nome:</strong>&nbsp;{{loja.nome}}</span>
                        <span class="titulo"><strong>Endereço:</strong>&nbsp;{{loja.endereco}}</span><br>
                        <span class="titulo"><strong>Quantidade de Sensores:</strong>&nbsp;{{loja.sensores.length}}</span>
                    </div>
                    <div class="col-md-1">
                        <button type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#loja">
                          <span class="glyphicon glyphicon-th-list"></span> Alterar
                        </button>
                    </div>
                </div>
                <hr>
                <div ng-repeat="sensor in loja.sensores">
                    <div class="well col-md-5 col-xs-12" style="margin:20px;">
                        <div class="row">
                            <div class="col-md-9  col-xs-12">
                                {{sensor.codigo}} | {{sensor.decricao}}
                                <hr>
                                <p>&nbsp;<strong>T-MIN:</strong>{{sensor.temperaturaMin}}&deg; &nbsp;&nbsp; <strong>T-MAX:</strong>{{sensor.temperaturaMax}}&deg;
                            </div>
                            <div class="col-md-3  col-xs-3" style="margin-top: 6%">
                                {{sensor.tipoItemMonitorado}}
                                <br/>
                                <br/>
                                <button type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#sensor" ng-click="carregaSensorModal(sensor)">
                                  <span class="glyphicon glyphicon-th-list"></span> Alterar
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- Modal LOja -->

<div id="loja" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Alterar dados da loja</h4>
            </div>
            <div class="modal-body">
                <div>
                    <div class="ui-alert"> {{msgLoja}}</div>
                </div>
                <div class="form-group">
                    <label for="nome">Name:</label>
                    <input type="text" name="nome" id="nome" class="form-control " placeholder="Nome" ng-model="loja.nome" ng-required="true">
                </div>
                <div class="form-group">
                    <label for="end">Endereço:</label>
                    <input type="text" name="nome" id="end" class="form-control " placeholder="Endereço" ng-model="loja.endereco" ng-required="true">
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Fechar</button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="atualizarLoja()">Atualizar</button>
                </div>
            </div>

        </div>
    </div>
</div>
<!-- /Modal LOja -->


<!-- Modal sensor -->
<div id="sensor" class="modal fade" role="dialog">
    <div class="modal-dialog modal-xm">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Alterar dados do sensor</h4>
            </div>
            <div class="modal-body">
                <div>
                    <div class="ui-alert"> {{msgSensor}}</div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="id">ID:</label>
                            <input type="number" id="id" class="form-control " placeholder="id" ng-model="sensor.id" readonly ng-required="true">
                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="form-group">
                            <label for="cod">Codigo do item Monitorado:</label>
                            <input type="text" id="cod" class="form-control " placeholder="Codigo do item Monitorado" readonly ng-model="sensor.codigo" ng-required="true">
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="desc">Descrição:</label>
                    <input type="text" id="desc" class="form-control " placeholder="Descrição" ng-model="sensor.decricao" ng-required="true">
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="temMin">Temperatura Minima:</label>
                            <input type="text" id="temMin" class="form-control " placeholder="Temperatura Minima" ng-model="sensor.temperaturaMin" ng-required="true">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="temMax">Temperatura Maxima:</label>
                            <input type="text" id="temMax" class="form-control " placeholder="Temperatura Maxima" ng-model="sensor.temperaturaMax" ng-required="true">
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Fechar</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="atualizarSensor()">Atualizar</button>
            </div>
        </div>

    </div>
</div>
<!-- /Modal sensor -->
